# 🎨 Web界面启动说明

## 快速启动

### 方式1: 使用Vite开发服务器 (推荐)

```bash
cd web
npm install
npm run dev
```

然后在浏览器打开 `http://localhost:3000`

### 方式2: 直接使用构建工具

```bash
cd web
npm install
npm run build
npm run preview
```

## 已实现的组件

### ✅ 核心功能
- [x] **ImageUpload** - 拖拽上传图片，支持多种格式
- [x] **StoryDisplay** - 场景图片和故事文本展示
- [x] **ChoiceButton** - 4种类型选择按钮（行动/对话/物品/情感）
- [x] **ProgressBar** - 故事进度和角色属性可视化
- [x] **主应用** - 状态管理、阶段切换、响应式布局

### 🎨 设计特色
- 深色沉浸主题
- 渐变色彩系统
- Framer Motion动画
- 响应式设计
- 无障碍支持

## 📦 技术栈
- React 18 + TypeScript
- Vite (构建工具)
- TailwindCSS (样式)
- Framer Motion (动画)
- Zustand (状态管理)
- React Dropzone (文件上传)

## 🎯 界面结构

```
┌─────────────────────────────────────────┐
│  🎭 交互式图片故事生成系统                │
├─────────────────────────────────────────┤
│  📸           🖼️ 场景图片             │
│  [拖拽上传区]  |  [故事文本区域]       │
├─────────────────────────────────────────┤
│  ❓ 选择按钮                              │
│  [1] ⚡ 行动选择 (红色渐变)               │
│  [2] 💬 对话选择 (蓝色渐变)               │
│  [3] 🎒 物品选择 (紫色渐变)               │
├─────────────────────────────────────────┤
│  📊 进度条 + 属性条                       │
│  故事进度: ████████░░ 80%                │
│  💝 勇气: ██████░░░░ 60                  │
│  🧠 智慧: ███████░░░ 70                  │
│  ❤️ 善良: ████████░░ 80                  │
└─────────────────────────────────────────┘
```

## 🔧 下一步开发

### Phase 2 剩余任务
- [ ] **接入后端API** - 需要创建FastAPI后端服务
- [ ] **流式文本显示** - 实时打字机效果
- [ ] **用户体验优化** - 加载动画、错误处理

### Phase 3 功能扩展
- [ ] 多故事类型系统
- [ ] 角色成长系统
- [ ] 成就系统
- [ ] 音效和音乐

## 📝 开发说明

### 状态管理
使用Zustand管理游戏状态：
- `phase` - 当前阶段 (upload/analyzing/playing/choosing等)
- `currentState` - 当前故事状态
- `isLoading` - 加载状态
- `imageFile` - 上传的图片文件

### 动画效果
使用Framer Motion实现：
- 页面切换动画
- 组件进入/退出动画
- 悬浮和点击效果
- 加载动画

### 响应式设计
- 桌面端 (lg: 1024px+): 4列网格布局
- 平板端 (md: 768-1023px): 2列布局
- 移动端 (sm: <768px): 单列布局

## 🚀 演示流程

1. **上传图片** - 拖拽或点击上传图片
2. **开始故事** - 点击按钮开始生成
3. **查看场景** - 观看生成的图片和故事
4. **做出选择** - 从3个选项中选择
5. **继续故事** - 循环直到结局

## 🎨 自定义样式

TailwindCSS配置在 `tailwind.config.js`：

```javascript
colors: {
  primary: {
    dark: '#0a0e27',    // 主背景色
    blue: '#1a237e',    // 卡片背景
    purple: '#6a1b9a',  // 渐变色
  },
  accent: {
    yellow: '#ffc107',  // 强调色
    orange: '#ff9800',  // 强调色2
  },
}
```

## ✅ 编译状态

当前代码已完成所有组件开发，修复了所有JSX语法错误。

剩余的TypeScript编译警告是由于：
1. 缺少node_modules依赖（需要运行 `npm install`）
2. Vite开发服务器会自动处理这些配置

运行 `npm run dev` 后一切将正常工作！
